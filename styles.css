:root{
  --bg1: #fff0f6;
  --bg2: #fff8e7;
  --accent: #ff6b81;
  --bubble: #fff;
  --muted: #9b8fb3;
}
*{box-sizing:border-box}
body{
  margin:0; font-family:'Quicksand',system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;
  background: linear-gradient(180deg,var(--bg1),var(--bg2));
  min-height:100vh; display:flex;align-items:center;justify-content:center;padding:24px;
}
.phone{
  width:100%;max-width:420px;background:linear-gradient(180deg,#ffffffcc,#fffaf0cc);
  border-radius:28px; box-shadow: 0 10px 30px rgba(0,0,0,0.12); overflow:hidden;
  border: 6px solid rgba(255,255,255,0.6);
}
.topbar{display:flex;align-items:center;justify-content:center;padding:12px 16px;background:transparent;position:relative}
.topbar h1{margin:0;font-size:16px;color:var(--muted);font-weight:700;position:relative;z-index:2}
.dot{width:10px;height:10px;background:linear-gradient(90deg,var(--accent),#f7b2d0);border-radius:50%;opacity:.9}
.screen{height:560px;position:relative;padding:12px 16px 8px;display:flex;flex-direction:column}

/* hearts background */
.hearts{position:absolute;inset:0;pointer-events:none;overflow:hidden}
.heart{position:absolute;font-size:18px;color:var(--accent);opacity:0.95;transform:translateY(0) scale(1);animation: bob 3.8s ease-in-out forwards}

@keyframes bob{
  0%{transform:translateY(0) scale(1);opacity:0}
  10%{opacity:1}
  40%{transform:translateY(-10px) scale(1.02)}
  70%{transform:translateY(-6px) scale(0.98)}
  100%{transform:translateY(0) scale(1);opacity:0.95}
}

/* chat messages list */
.messages{flex:1;display:flex;flex-direction:column;gap:10px;padding:10px 8px;overflow:auto}

/* fade-out state used by Reset */
.messages.fading{opacity:0;transition:opacity .45s ease}
.message-row{display:flex;align-items:flex-start;gap:10px}
.message-row.you{justify-content:flex-start;padding-left:8px}
.message-row.me{justify-content:flex-end;padding-right:12px}
.avatar{width:36px;height:36px;border-radius:50%;object-fit:cover;box-shadow:0 6px 18px rgba(0,0,0,0.06);margin-top:6px}
/* bubble base */
.bubble{max-width:78%;padding:12px 14px;border-radius:18px;box-shadow:0 6px 22px rgba(0,0,0,0.06);font-weight:700;color:#222}
.bubble.me{margin-left:auto;background:linear-gradient(90deg,var(--accent),#ff9bb3);color:white;border-bottom-right-radius:8px}
.bubble.you{margin-right:auto;background:#f1f0f3;color:#333;border-bottom-left-radius:8px;margin-left:0}

.typing{display:inline-flex;gap:6px;align-items:center;padding:10px;background:#f1f0f3;border-radius:12px;box-shadow:0 10px 24px rgba(11,9,20,0.04);width:56px;justify-content:center}
.dot{width:6px;height:6px;background:#bdb6c9;border-radius:50%;opacity:0.95;animation: blink 1s infinite}
.dot:nth-child(2){animation-delay:.12s}
.dot:nth-child(3){animation-delay:.24s}
@keyframes blink{0%{opacity:.2}50%{opacity:1}100%{opacity:.2}}

.controls{display:flex;gap:10px;padding:16px;justify-content:center}
.btn{background:transparent;border:1px solid rgba(0,0,0,0.06);padding:8px 14px;border-radius:12px;font-weight:600}
.btn.primary{background:linear-gradient(90deg,var(--accent),#ff9bb3);color:white;border:none}
.hint{padding:0 16px 18px;color:var(--muted);font-size:13px;text-align:center}

/* input bar (iMessage style) */
.input-bar{display:flex;gap:10px;align-items:center;padding:12px 14px;background:transparent}
.input-bar .plus{background:transparent;border:none;font-size:22px;color:var(--muted);width:36px;height:36px;border-radius:50%}
.input-bar input[type="text"]{flex:1;padding:10px 14px;border-radius:20px;border:1px solid rgba(0,0,0,0.06);background:#fafafa;box-shadow:inset 0 2px 6px rgba(0,0,0,0.04);font-size:15px}
.input-bar .btn.primary{padding:8px 12px;border-radius:20px}

/* floating hearts (continuous) */
.hearts .heart{animation-name:floatUp;animation-timing-function:linear;animation-iteration-count:1}
@keyframes floatUp{
  0%{transform:translateY(0) scale(1);opacity:0}
  10%{opacity:1}
  100%{transform:translateY(-260px) translateX(40px) scale(1.05);opacity:0}
}

@keyframes pop{from{transform:translateY(8px) scale(.98);opacity:0}to{transform:none;opacity:1}}

/* small entrance for new bubbles */
.enter{animation: enter .42s cubic-bezier(.2,.9,.2,1)}
@keyframes enter{from{transform:translateY(8px) scale(.98);opacity:0}to{transform:none;opacity:1}}

@media (max-width:420px){
  .screen{height:66vh}
  .card{font-size:18px}
}
